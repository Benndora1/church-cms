!function(n){function e(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t={};e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:i})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=26)}({26:function(n,e,t){n.exports=t(8)},8:function(n,e){function t(n){$.ajax({url:"/role",data:{_token:o,role_id:n},type:"POST",success:function(e){var t=$("#roleModal");t.find("form").attr("action","/update-role/"+n),t.find(".modal-header").html('<i class="fa fa-pencil"></i> Role: '+e.name),t.find("input[name=name]").val(e.name).attr("readonly","readonly"),t.find("input[name=display_name]").val(e.display_name),t.find("textarea[name=desc]").val(e.desc),t.modal("show")},error:function(n){}})}function i(n){$.get("/modules/"+n,function(e){var t=JSON.parse(e),i=$("#modulesModal");i.find("form").attr("action","/update-module/"+n),i.find(".modal-header").html('<i class="fa fa-pencil"></i> Module: '+t.name),i.find("input[name=name]").val(t.name),i.modal("show")})}/**
 * @copyright   2017 A&M Digital Technologies
 * @author      John Muchiri | john@amdtllc.com
 * @link        https://amdtllc.com
 * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */
var a=$('meta[name="csrf-token"]'),o=a.attr("content");$("document").ready(function(){$(".admin-nav-btn").click(function(){$(".admin-nav").addClass("dropdown").find("ul").addClass("dropdown-menu").toggleClass("hidden-xs")}),$(".create-role-btn").click(function(){$("#roleModal").modal("show")}),$(".register-module-btn").click(function(){$("#modulesModal").modal("show")}),$(".role").dblclick(function(){t($(this).attr("id"))}),$("#roles").find("li").click(function(){$("#roles").find("li").each(function(){$(this).removeClass("active").find(".fa").css("opacity","0.2")}),$(this).addClass("active").find(".fa").css("opacity","1"),$("#permissions").text("");var n=$(this).attr("id");$("#modules").load("/modules",function(){$(this).find("li").click(function(){$("#modules").find("li").each(function(){$(this).removeClass("active").find(".fa").hide()}),$(this).addClass("active").find(".fa").show()}),$("#modules").find("li").click(function(){var e=$(this).attr("id");$("#permissions").load("/module-permissions/"+n+"/"+e,function(){$("#invert_selection").click(function(){return $(".permissions").find("INPUT[type=checkbox]").each(function(){$(this).attr("checked",!$(this).attr("checked"))}),!1});var t=$(".permissions");$("<input>").attr({type:"hidden",name:"role",value:n}).appendTo(t),$("<input>").attr({type:"hidden",name:"module",value:e}).appendTo(t),t.on("submit",function(n){n.preventDefault(),$.ajax({url:"/role-permissions",data:$(this).serialize(),type:"POST",success:function(n){var e=JSON.parse(n);notice(e.message,e.status)},error:function(n){notice("Error updating permissions","error")}})})})}),$(".module").dblclick(function(){i($(this).attr("id"))});new List("modules",{valueNames:["name"],page:20,pagination:!0})})});new List("roles",{valueNames:["role"],page:20,pagination:!0})})}});